<div class="quiz-container" ng-show="!vm.completeCourse">
	<div class="uk-alert uk-alert-warning" data-uk-alert ng-show="vm.alert">
		{{vm.alert}}</div>
	<div ng-show="!vm.alert && !vm.startQuiz" class="uk-text-center">
		<a class="md-btn md-btn-primary md-btn-wave-light"
			ng-click="vm.startStudy()"> {{'ACTION.START_QUIZ'|translate}} </a>
	</div>
	<div class="md-card" ng-show="!vm.alert && vm.startQuiz">
		<div class="md-card-toolbar"
			ng-class="{'md-bg-green-200':vm.question.attempted,'md-bg-grey-100':!vm.question.attempted }">
			<div class="md-card-toolbar-actions">
				<span class=" uk-text-danger"><i
					class="uk-icon-clock-o uk-text-danger"></i> {{vm.remainTime |
					timeString}}</span>
			</div>
			<div class="md-card-toolbar-heading-text">
				<span>{{'PAGE.LMS.MY_COURSES.COURSE_STUDY.QUESTION'|translate}}
					{{vm.index+1}}<span ng-show="vm.question.grouped">-{{vm.subIndex+1}}</span>/{{vm.questions.length}}
				</span>
			</div>
		</div>

		<div class="md-card-content">
			<div ng-if="vm.question.type=='mc'">
				<multiple-choice-question shuffle="true" mode="'study'" question="vm.question"
					answer="vm.question.answer"></multiple-choice-question>
			</div>
			<div ng-if="vm.question.type=='sc'">
				<single-choice-question shuffle="true" mode="'study'" question="vm.question"
					answer="vm.question.answer"></single-choice-question>
			</div>
			<div ng-if="vm.question.type=='tf'">
				<true-false-question shuffle="true" mode="'study'" question="vm.question"
					answer="vm.question.answer"></true-false-question>
			</div>
			<div ng-if="vm.question.type=='fb'">
				<fill-blank-question shuffle="true" mode="'study'" question="vm.question"
					answer="vm.question.answer"></fill-blank-question>
			</div>
			<div ng-if="vm.question.type=='ext'">
				<extend-text-question shuffle="true" mode="'study'" answer="vm.question.answer"
					question="vm.question"></extend-text-question>
			</div>
			<div ng-if="vm.question.type=='as'">
				<associative-question shuffle="true" mode="'study'" answer="vm.question.answer"
					question="vm.question"></associative-question>
			</div>
			<div ng-if="vm.question.type=='dnd'">
				<drag-drop-question shuffle="true" mode="'study'" answer="vm.question.answer"
					question="vm.question"></drag-drop-question>
			</div>
			<div ng-if="vm.question.type=='pic'">
				<point-click-question shuffle="true" mode="'study'" answer="vm.question.answer"
					question="vm.question"></point-click-question>
			</div>
			<div ng-if="vm.question.grouped">
				<group-question shuffle="true" mode="'study'" question="vm.question"
					answer="vm.question.answer" sub-index="vm.subIndex"></group-question>
			</div>

			<div class="uk-grid uk-margin-top">
				<div class="uk-width-1-3">
					<a
							ng-show=" (vm.index > 0 || vm.question.grouped && vm.subIndex >0)"
							class="uk-align-left md-btn  md-btn-wave-light md-btn-icon"
							ng-click="vm.savePrev()"> <i class="uk-icon-arrow-left "></i>
						{{'ACTION.PREV'|translate}}
					</a>
				</div>
				<div class="uk-width-1-3 uk-text-center">
					<a class="md-btn md-btn-primary md-btn-wave-light "
						ng-show="vm.index == vm.questions.length-1"
						data-uk-modal="{target:'#modalSubmitQuiz'}">
						{{'ACTION.SUBMIT_EXAM'|translate}}
					</a>
					<div id="modalSubmitQuiz" class="uk-modal">
						<div class="uk-modal-dialog">
							<button type="button" class="uk-modal-close uk-close"></button>
							<div class="uk-modal-header">
								<h2>Chụp ảnh người làm bài</h2>
							</div>
							<div class="uk-modal-body">
                <ng-camera
                  type="photo"
                  enabled="true"
                  width="320"
                  height="240"
                  countdown="3"
                  ng-model="media"
                  overlay-src="media"
                  capture-message="Xong!"></ng-camera>
								<p>
									Chụp ảnh của bạn bằng webcam để gửi kèm bài kiểm tra.
								</p>
							</div>
							<div class="uk-modal-footer uk-text-right">
								<button type="button" class="uk-button uk-button-primary" ng-click="vm.submitQuiz()">Nộp bài</button>
							</div>
						</div>
					</div>
				</div>
				<div class="uk-width-1-3">
					<a
							ng-show="vm.index < vm.questions.length-1 || (vm.question.grouped && vm.subIndex < vm.question.subQuestions.length)"
							class="uk-align-right md-btn  md-btn-wave-light md-btn-icon"
							ng-click="vm.saveNext()"> <i class="uk-icon-arrow-right "></i>
						{{'ACTION.NEXT'|translate}}
					</a>
				</div>
			</div>
		</div>
	</div>
</div>
<style>
	.section-navigation {
		display: none;
	}
</style>
